FROM openjdk:11-slim

LABEL author="korov" email="korov9@163.com" date="2020-08-16"

ENV APP_HOME /app

#Create base app folder
RUN mkdir $APP_HOME
#Create folder to save configuration files
RUN mkdir $APP_HOME/config
#Create folder with application logs
RUN mkdir $APP_HOME/log

WORKDIR $APP_HOME

COPY libs/demo*.jar /app.jar

RUN bash -c 'touch /app.jar'
EXPOSE 8080

ENTRYPOINT ["java", "-Djava.security.egd=file:/dev/./urandom", "-Dspring.profiles.active=test", "-jar", "/app.jar" ]